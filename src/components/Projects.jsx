import { useEffect, useRef } from 'react'

function Projects() {
  const sectionRef = useRef(null)

  useEffect(() => {
    const elements = sectionRef.current?.querySelectorAll('[data-animate]')
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animated')
        }
      })
    }, { threshold: 0.1 })

    elements?.forEach(el => observer.observe(el))

    return () => elements?.forEach(el => observer.unobserve(el))
  }, [])

  const projects = [
    {
      status: 'live',
      statusText: 'Live',
      url: 'https://scrapihaus.vercel.app/',
      icon: (
        <svg width="28" height="28" viewBox="0 0 300 300" fill="currentColor">
          <path fillOpacity="1" stroke="none" d="M59.000000,301.000000 C58.555553,301.000000 58.111111,301.000000 57.680832,300.617249 C57.462566,298.642853 57.039955,297.052521 57.029022,295.459351 C56.965145,286.152985 56.997700,276.846008 56.997700,267.414520 C56.096474,267.674774 55.262600,267.740570 54.621365,268.126465 C40.154961,276.832123 25.667267,285.504059 11.295065,294.363190 C8.303181,296.207428 5.753476,298.769012 2.999999,301.000000 C2.333331,300.668640 1.216122,300.456146 1.090961,299.981842 C0.803702,298.893280 1.000000,297.677094 1.000000,296.512726 C1.000000,224.320923 1.000000,152.129120 1.369096,79.466248 C3.244051,78.096275 4.748714,77.195366 6.255960,76.298790 C20.197132,68.005997 34.180271,59.782803 48.070995,51.406349 C71.875206,37.051815 95.645897,22.641159 119.365318,8.147140 C122.763710,6.070514 125.797485,3.397178 129.000000,1.000000 C129.444443,1.000000 129.888901,1.000000 130.319138,1.382712 C130.537369,3.355601 130.960037,4.944474 130.970963,6.536169 C131.034790,15.847512 131.002274,25.159515 131.002274,34.772282 C132.475342,34.126854 133.843338,33.686558 135.050781,32.974163 C149.297302,24.568649 163.564987,16.197002 177.712296,7.626942 C180.712173,5.809700 183.249542,3.228967 186.000000,0.999998 C186.444443,1.000000 186.888901,1.000000 187.319122,1.382712 C187.537369,3.357096 187.960022,4.947464 187.970947,6.540656 C188.034836,15.847025 188.002274,25.154057 188.002274,34.585548 C188.903458,34.325333 189.737350,34.259567 190.378586,33.873669 C204.845078,25.168001 219.332840,16.496044 233.705124,7.636864 C236.696991,5.792666 239.246582,3.231014 242.000000,0.999999 C242.444443,1.000000 242.888901,1.000000 243.319138,1.382711 C243.537369,3.355607 243.960037,4.944486 243.970963,6.536189 C244.034790,15.847527 244.002274,25.159525 244.002274,34.772297 C245.479294,34.125130 246.845215,33.685501 248.050827,32.974174 C262.297333,24.568598 276.565033,16.196987 290.712372,7.626924 C293.712219,5.809707 296.249573,3.228960 299.000000,1.000002 C299.666656,1.331380 300.783844,1.543876 300.908997,2.018145 C301.196259,3.106726 301.000000,4.322897 301.000000,5.487281 C301.000000,77.679085 301.000000,149.870880 300.629639,222.533875 C289.192810,229.485229 278.076813,235.882401 267.069641,242.461746 C238.406235,259.594879 209.768936,276.772125 181.185379,294.038025 C177.915054,296.013458 175.051926,298.662994 172.000000,301.000000 C171.555557,301.000000 171.111099,301.000000 170.680817,300.617249 C170.462570,298.642853 170.039978,297.052551 170.029037,295.459381 C169.965164,286.153015 169.997711,276.845978 169.997711,267.414490 C169.097031,267.674591 168.262848,267.740417 167.621353,268.126465 C153.154938,276.832062 138.667267,285.503998 124.295067,294.363159 C121.303185,296.207397 118.753471,298.768982 116.000000,301.000000 C115.555557,301.000000 115.111107,301.000000 114.680847,300.617249 C114.462585,298.644409 114.039932,297.055573 114.029022,295.463928 C113.965187,286.152588 113.997704,276.840607 113.997704,267.227905 C112.524696,267.873352 111.156754,268.313721 109.949326,269.026093 C95.702827,277.431549 81.435143,285.803070 67.287834,294.373077 C64.287933,296.190308 61.750507,298.771057 59.000000,301.000000 M178.003006,97.515060 C178.003006,160.052887 178.003006,222.590729 178.003006,285.805298 C180.530014,284.354218 182.384125,283.326324 184.203094,282.239563 C219.049164,261.420319 253.863647,240.547852 288.781311,219.849426 C291.885406,218.009399 293.093475,216.147369 293.086334,212.476929 C292.962433,148.686630 292.996948,84.896034 292.996948,21.105501 C292.996948,19.691153 292.996948,18.276806 292.996948,16.219347 C290.751373,17.474495 289.167145,18.307604 287.633301,19.225010 C254.510574,39.036327 221.565323,59.154667 188.146744,78.453415 C180.405701,82.923752 176.106247,87.510956 178.003006,97.515060 M70.157227,81.733292 C66.066444,83.249023 64.861618,85.966393 64.875015,90.477150 C65.062416,153.599197 65.002121,216.721970 65.002129,279.844574 C65.002129,281.609131 65.002136,283.373688 65.002136,285.815979 C66.888985,284.741241 68.158257,284.047302 69.399696,283.306671 C82.961815,275.215729 96.461082,267.016541 110.124390,259.100403 C113.117188,257.366455 114.079674,255.448944 114.073166,252.062088 C113.966957,196.767563 114.066483,141.472519 113.873497,86.178474 C113.857262,81.527046 115.442825,79.182014 119.282425,76.921814 C138.486069,65.617493 157.535507,54.049915 176.560196,42.445427 C178.018219,41.556080 179.769943,39.707390 179.841187,38.230148 C180.183472,31.132313 179.995010,24.008881 179.995010,16.060713 C143.165863,38.062687 106.968925,59.686981 70.157227,81.733292 M104.623711,27.122677 C74.130852,45.488487 43.666866,63.902664 13.101172,82.146446 C9.991938,84.002274 8.905989,85.974899 8.913033,89.602097 C9.036323,153.076340 9.002090,216.550873 9.002090,280.025360 C9.002090,281.627289 9.002090,283.229187 9.002090,285.519440 C10.900787,284.537018 12.211249,283.946442 13.435422,283.212067 C26.560949,275.337982 39.623707,267.357422 52.825260,259.613281 C55.882217,257.820068 57.097641,255.846207 57.089012,252.182770 C56.957893,196.538788 57.044163,140.894272 56.897629,85.250366 C56.887466,81.392014 58.084148,79.380920 61.363216,77.462288 C80.891708,66.035851 100.291374,54.388397 119.670418,42.709164 C121.040047,41.883728 122.788025,40.246552 122.844879,38.921803 C123.155838,31.675890 122.993004,24.409645 122.993004,16.155510 C116.550766,20.008720 110.904144,23.386063 104.623711,27.122677 M169.997955,149.500000 C169.997955,127.834663 170.084045,106.168617 169.906540,84.504730 C169.879425,81.196411 170.974075,79.486275 173.730026,77.864403 C193.380249,66.300232 212.943619,54.588146 232.495102,42.857258 C233.817719,42.063679 235.770691,40.770935 235.814880,39.646839 C236.110931,32.115650 235.968811,24.567244 235.968811,16.367147 C233.983597,17.446749 232.820435,18.023352 231.711655,18.690399 C196.491791,39.878788 161.303665,61.120289 126.016357,82.195702 C122.866241,84.077118 121.910500,86.123253 121.917114,89.703392 C122.034340,153.199432 122.002083,216.695755 122.002083,280.192017 C122.002083,281.769653 122.002083,283.347290 122.002083,285.590576 C123.754288,284.690247 124.781853,284.235382 125.737106,283.660400 C139.283676,275.506958 152.762772,267.238770 166.406021,259.250793 C169.288269,257.563263 170.079224,255.676773 170.068573,252.493774 C169.954926,218.496140 169.997940,184.498001 169.997955,149.500000 z"/>
        </svg>
      ),
      title: 'Scrapihaus',
      description: 'Plataforma de dados imobiliários com extração automatizada via web scraping. Coletamos, processamos e entregamos informações do mercado em tempo real.',
      tags: ['Web Scraping', 'Data', 'Imóveis']
    },
    {
      status: 'building',
      statusText: 'Em construção',
      url: '#',
      icon: (
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
          <path d="M9 18V5l12-2v13"></path>
          <circle cx="6" cy="18" r="3"></circle>
          <circle cx="18" cy="16" r="3"></circle>
        </svg>
      ),
      title: 'BYM',
      description: 'App de construção musical que permite criar, mixar e produzir músicas de forma intuitiva. Democratizando a criação musical com IA.',
      tags: ['Música', 'IA', 'App']
    }
  ]

  return (
    <section className="section projects" id="projects" ref={sectionRef}>
      <div className="container">
        <div className="section-header" data-animate="fade-up">
          <span className="section-tag">Projetos</span>
          <h2 className="section-title">O que estamos <span className="highlight">construindo</span></h2>
        </div>

        <div className="projects-grid">
          {projects.map((project, index) => (
            <article key={index} className="project-card" data-animate="fade-up" data-delay={index * 100}>
              <a href={project.url} target="_blank" rel="noopener noreferrer" className="project-link">
                <div className="project-header">
                  <div className="project-icon">{project.icon}</div>
                  <span className={`project-status ${project.status}`}>{project.statusText}</span>
                </div>
                <h3 className="project-title">{project.title}</h3>
                <p className="project-description">{project.description}</p>
                <div className="project-tags">
                  {project.tags.map((tag, idx) => (
                    <span key={idx} className="tag">{tag}</span>
                  ))}
                </div>
              </a>
            </article>
          ))}
        </div>
      </div>
    </section>
  )
}

export default Projects
